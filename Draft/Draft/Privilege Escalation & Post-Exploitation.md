##Privilege Escalation & Post-Exploitation













###Cull

[More on Using Bash's Built-in /dev/tcp File (TCP/IP)](http://www.linuxjournal.com/content/more-using-bashs-built-devtcp-file-tcpip More on Using Bash's Built-in /dev/tcp File (TCP/IP))

[The Backdoor Factory (BDF)](https://github.com/secretsquirrel/the-backdoor-factory)
* For security professionals and researchers only.  The goal of BDF is to patch executable binaries with user desired shellcode and continue normal execution of the prepatched state. 
* [Derbycon Presentation](https://www.youtube.com/watch?v=LjUN9MACaTs)


[Hidden backdoor API to root privileges in Apple OS X](https://truesecdev.wordpress.com/2015/04/09/hidden-backdoor-api-to-root-privileges-in-apple-os-x/)
* Works on 10.7 -> 10.10.2



[Abusing Active Directory in Post-Exploitation - Carlos Perez - Derbycon 2014](http://www.irongeek.com/i.php?page=videos/derbycon4/t105-abusing-active-directory-in-post-exploitation-carlos-perez)
* Windows APIs are often a blackbox with poor documentation, taking input and spewing output with little visibility on what actually happens in the background. By reverse engineering (and abusing) some of these seemingly benign APIs, we can effectively manipulate Windows into performing stealthy custom attacks using previously unknown persistent and injection techniques. In this talk, we’ll get Windows to play with itself nonstop while revealing 0day persistence, previously unknown DLL injection techniques, and Windows API tips and tricks. To top it all off, a custom HTTP beaconing backdoor will be released leveraging the newly released persistence and injection techniques. So much Windows abuse, so little time.



[How to own any windows network with group policy hijacking attacks](https://labs.mwrinfosecurity.com/blog/2015/04/02/how-to-own-any-windows-network-with-group-policy-hijacking-attacks/)

[File Server Triage on Red Team Engagements](http://www.harmj0y.net/blog/redteaming/file-server-triage-on-red-team-engagements/)


[Domain Trusts: Why You Should Care](http://www.harmj0y.net/blog/redteaming/domain-trusts-why-you-should-care/)
* [Trusts You Might Have Missed](http://www.harmj0y.net/blog/redteaming/trusts-you-might-have-missed/)

http://www.slideshare.net/harmj0y/derbycon-passing-the-torch

[Using the docker command to root the host (totally not a security issue)](http://reventlov.com/advisories/using-the-docker-command-to-root-the-host)
*  It is possible to do a few more things more with docker besides working with containers, such as creating a root shell on the host, overwriting system configuration files, reading restricted stuff, etc.

https://github.com/mubix/post-exploitation/wiki/Linux-Post-Exploitation-Command-List#escalating

[Post-Exploitation on Windows using ActiveX Controls](http://uninformed.org/?v=all&a=3&t=sumry)


[15 Ways to bypass Powershell execution-policy settings](https://blog.netspi.com/15-ways-to-bypass-the-powershell-execution-policy/)
* Does what it says on the tin. Overall, its clear that execution-policy was not meant as a security method. Or if it was, someone was drinking a bit too much.



###General 

[The Backdoor Factory (BDF)](https://github.com/secretsquirrel/the-backdoor-factory)
* For security professionals and researchers only.  The goal of BDF is to patch executable binaries with user desired shellcode and continue normal execution of the prepatched state. 
* [Derbycon Presentation](https://www.youtube.com/watch?v=LjUN9MACaTs)



###Linux Privilege Escalation & Post-Exploitation 






###Windows Privilege Escalation & Post-Exploitation







###OS X Privilege Escalation & Post-Exploitation




###Other Systems Privilege Escalation & Post-Exploitation



















##Persistence Techniques

[An Introduction to Backdooring Operating Systems for Fun and trolling - Defcon22](https://media.defcon.org/DEF%20CON%2022/DEF%20CON%2022%20video%20and%20slides/DEF%20CON%2022%20Hacking%20Conference%20Presentation%20By%20Nemus%20-%20An%20Introduction%20to%20Back%20Dooring%20Operating%20Systems%20for%20Fun%20and%20Trolling%20-%20Video%20and%20Slides.m4v)
[List of low-level attacks/persistence techniques.  HIGHLY RECOMMENDED!](http://timeglider.com/timeline/5ca2daa6078caaf4)


###Windows
Windows task scheduler




###Linux
Linux cron tab








###OS X








##Pivoting:

Socat: http://www.dest-unreach.org/socat/
About: http://www.dest-unreach.org/socat/doc/README
Examples of use: http://www.dest-unreach.org/socat/doc/socat.html#EXAMPLES





Local Port Forward
Situation
Bob (Attacker – IP 192.168.1.2) – Wishes to browse the super secret webpage on Suzie’s computer.
Ryan (SSH Server on Port 22 – IP 192.168.1.50 & IP 10.1.1.40) – A dual homed SSH server which Bob has stolen credentials for.
Suzie (Victim running a web service on port 80 – IP 10.1.1.90) – The target we wish to access who is running a super secret intranet page. 
Command 

ssh <ssh server> -L  <Port on Attacker's Machine>:<Victim IP>:<Victim Port We Want>

Example 

ssh ryan@192.168.1.50 -L 1234:10.1.1.90:80

Once this command is executed, and the password entered, do not interact with this shell. Alternatively you can use the -f -N flag to background the ssh port forward upon connection. In this situation Bob can now browse localhost:1234 and what he will see is actually the secret intranet page Suzie is hosting on port 80, all routed through the SSH server Ryan.
Taken from: http://netsec.ws/?p=287#more-287

From Stack
For example, there's a server at my office I frequently need to access, which we'll call server.example.com. I can't connect to it directly, but I can ssh to myofficemachine.example.com. So I do this: 
ssh -L 3389:server.example.com:3389 myofficemachine.example.com
 
And then I point my local Remote Desktop client to localhost. 